<%- include("partials/header") -%>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Modern font for the body */
        background-color: #f4f4f4; /* Light gray background for the whole page */
        margin: 0; /* Remove default margin */
        display: flex; /* Flexbox for layout */
        flex-direction: column; /* Stack items vertically */
        min-height: 100vh; /* Full height for body */
    }
    
    main {
        flex: 1; /* Allow the main content to grow and fill available space */
        padding: 20px; /* Padding around the main content */
        background-color: #ffffff; /* White background for the main area */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* Stronger shadow for main area */
        border-radius: 10px; /* Rounded corners for main area */
        margin: 20px; /* Margins around the main content */
        transition: box-shadow 0.3s ease; /* Smooth transition for shadow on hover */
    }
    
    main:hover {
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15); /* Shadow effect on hover */
    }
    
    .container {
        padding: 0; /* No padding for the container */
    }
    
    .search-container {
        display: flex; /* Flexbox for search layout */
        justify-content: center; /* Center items */
        width: 100%; /* Full width */
        margin-bottom: 20px; /* Space below the search bar */
    }
    
    #peopleSkillSearch {
        padding: 12px; /* Padding inside the search bar */
        border: 1px solid #ccc; /* Border styling */
        border-radius: 4px; /* Rounded corners */
        width: 100%; /* Full width for search bar */
        max-width: 350px; /* Maximum width for search bar */
        margin-right: 10px; /* Space between the search bar and button */
        transition: border-color 0.3s; /* Smooth transition for border color */
        font-size: 16px; /* Increase font size for better readability */
    }
    
    #peopleSkillSearch:focus {
        outline: none; /* Remove default outline */
        border-color: #27374D; /* Change border color on focus */
        box-shadow: 0 0 5px rgba(39, 55, 77, 0.5); /* Add shadow on focus */
    }
    
    #searchButton {
        padding: 12px 20px; /* Padding for the button */
        border: none; /* No border */
        background-color: #27374D; /* Button background color */
        color: white; /* Text color */
        border-radius: 4px; /* Rounded corners */
        cursor: pointer; /* Pointer cursor on hover */
        transition: background-color 0.3s, transform 0.3s; /* Smooth transition for background color and scale */
        font-size: 16px; /* Increase font size */
    }
    
    #searchButton:hover {
        background-color: #1d2a4d; /* Darker shade on hover */
        transform: scale(1.05); /* Slightly enlarge button on hover */
    }
    
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Modern font for the body */
        background-color: #f4f4f4; /* Light gray background for the whole page */
        margin: 0; /* Remove default margin */
        display: flex; /* Flexbox for layout */
        flex-direction: column; /* Stack items vertically */
        min-height: 100vh; /* Full height for body */
    }
    
    main {
        flex: 1; /* Allow the main content to grow and fill available space */
        padding: 20px; /* Padding around the main content */
        background-color: #ffffff; /* White background for the main area */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* Stronger shadow for main area */
        border-radius: 10px; /* Rounded corners for main area */
        margin: 20px; /* Margins around the main content */
        transition: box-shadow 0.3s ease; /* Smooth transition for shadow on hover */
    }
    
    main:hover {
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15); /* Shadow effect on hover */
    }
    
    .container {
        padding: 0; /* No padding for the container */
    }
    
    .search-container {
        display: flex; /* Flexbox for search layout */
        justify-content: center; /* Center items */
        width: 100%; /* Full width */
        margin-bottom: 20px; /* Space below the search bar */
    }
    
    #peopleSkillSearch {
        padding: 12px; /* Padding inside the search bar */
        border: 1px solid #ccc; /* Border styling */
        border-radius: 4px; /* Rounded corners */
        width: 100%; /* Full width for search bar */
        max-width: 350px; /* Maximum width for search bar */
        margin-right: 10px; /* Space between the search bar and button */
        transition: border-color 0.3s; /* Smooth transition for border color */
        font-size: 16px; /* Increase font size for better readability */
    }
    
    #peopleSkillSearch:focus {
        outline: none; /* Remove default outline */
        border-color: #27374D; /* Change border color on focus */
        box-shadow: 0 0 5px rgba(39, 55, 77, 0.5); /* Add shadow on focus */
    }
    
    #searchButton {
        padding: 12px 20px; /* Padding for the button */
        border: none; /* No border */
        background-color: #27374D; /* Button background color */
        color: white; /* Text color */
        border-radius: 4px; /* Rounded corners */
        cursor: pointer; /* Pointer cursor on hover */
        transition: background-color 0.3s, transform 0.3s; /* Smooth transition for background color and scale */
        font-size: 16px; /* Increase font size */
    }
    
    #searchButton:hover {
        background-color: #1d2a4d; /* Darker shade on hover */
        transform: scale(1.05); /* Slightly enlarge button on hover */
    }
    
    #peopleContainer {
        display: grid; /* Grid layout for person cards */
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); /* Responsive columns */
        gap: 20px; /* Space between cards */
        margin: 0 auto; /* Center the people container */
        max-width: 800px; /* Max width for people container */
        padding: 20px; /* Optional: Add padding to the container */
        background-color: #ffffff; /* Background color for the container */
        border-radius: 8px; /* Rounded corners for the container */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for the container */
    }
    
    .person_card {
        background-color: white; /* Background color for person card */
        border-radius: 8px; /* Rounded corners */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        padding: 20px; /* Padding inside person card */
        text-align: center; /* Center text */
        transition: transform 0.3s, box-shadow 0.3s; /* Smooth transition for scaling and shadow */
    }
    
    .person_card:hover {
        transform: translateY(-5px); /* Slight lift effect on hover */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
    }
    
    .person_card img {
        width: 100px; /* Fixed width for images */
        height: 100px; /* Fixed height for images */
        object-fit: cover; /* Ensure images cover the area */
        border-radius: 50%; /* Circular profile photo */
        margin-bottom: 10px; /* Space below the image */
    }
    
    footer {
        padding: 15px; /* Padding for the footer */
        background-color: #27374D; /* Footer background color */
        color: white; /* Footer text color */
        text-align: center; /* Center text in footer */
        position: relative; /* Ensure footer stays at bottom */
    }
    
    @media (max-width: 768px) {
        #peopleSkillSearch {
            max-width: 200px; /* Adjust search bar width for smaller screens */
        }
    
        .person_card {
            padding: 15px; /* Adjust padding for smaller screens */
        }
    }
    
    @media (max-width: 480px) {
        #peopleSkillSearch {
            width: 100%; /* Full width for mobile screens */
            margin-right: 0; /* No margin for mobile screens */
        }
    
        #searchButton {
            width: 100%; /* Full width for button on mobile */
        }
    }
    
    
    .person_card {
        background-color: white; /* Background color for person card */
        border-radius: 8px; /* Rounded corners */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        padding: 20px; /* Padding inside person card */
        text-align: center; /* Center text */
        transition: transform 0.3s, box-shadow 0.3s; /* Smooth transition for scaling and shadow */
    }
    
    .person_card:hover {
        transform: translateY(-5px); /* Slight lift effect on hover */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
    }
    
    .person_card img {
        width: 100px; /* Fixed width for images */
        height: 100px; /* Fixed height for images */
        object-fit: cover; /* Ensure images cover the area */
        border-radius: 50%; /* Circular profile photo */
        margin-bottom: 10px; /* Space below the image */
    }
    
    footer {
        padding: 15px; /* Padding for the footer */
        background-color: #27374D; /* Footer background color */
        color: white; /* Footer text color */
        text-align: center; /* Center text in footer */
        position: relative; /* Ensure footer stays at bottom */
    }
    
    @media (max-width: 768px) {
        #peopleSkillSearch {
            max-width: 200px; /* Adjust search bar width for smaller screens */
        }
    
        .person_card {
            padding: 15px; /* Adjust padding for smaller screens */
        }
    }
    
    @media (max-width: 480px) {
        #peopleSkillSearch {
            width: 100%; /* Full width for mobile screens */
            margin-right: 0; /* No margin for mobile screens */
        }
    
        #searchButton {
            width: 100%; /* Full width for button on mobile */
        }
    }
    
</style>

<main>
    <div class="container">
        <div class="search-container">
            <input type="text" id="peopleSkillSearch" placeholder="Search by skill...">
            <button id="searchButton">Search</button>
        </div>
    <main>
        <div class="container">
            <div class="searchContainer">
                <input type="text" id="peopleSkillSearch" placeholder="Search by skill...">
                <button id="searchButton">Search</button>
            </div>

            <div id="peopleContainer">
                <% if (people.length > 0) { %>
                    <% people.forEach(person => { %>
                        <div class="personCard">
                            <img src="<%= person.profile_photo_url || '/images/default_profile_photo.jpg' %>" alt="<%= person.username %>">
                            <h3>
                             <a href="javascript:void(0);" data_user_id="<%= person.user_id %>" onclick="viewProfile(this)"
                    class="viewProfileBtn"><%= person.username %></a>
                            <p>Skills: <%= person.skills %></p>
                            <p>Email: <%= person.email %></p>
                        </div>
                    <% }) %>
                <% } else { %>
                    <p>No people found with that skill.</p>
                <% } %>
            </div>
        </div>
    </main>

    <!-- Footer Section -->
    <%- include("partials/footer") -%>
    <script src="/view_profile.js"></script>
    <script>
        // Search functionality triggered on button click
        document.getElementById('searchButton').addEventListener('click', async function () {
            const skill = document.getElementById('peopleSkillSearch').value.toLowerCase();
            // Fetch filtered data from the backend based on the entered skill
            const response = await fetch(`/people/search?skill=${skill}`);
            const html = await response.text();
            // Update the peopleContainer with the new filtered results
            document.getElementById('peopleContainer').innerHTML = html;
        });
    </script>
</body>
</html>
