<%- include("partials/header") -%>

<style>
    /* Apply styles only within #mainContent */
    #mainContent {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: #F4F4F4;
        margin-top: 3vh; /* Space between header and main content */
        overflow-x: hidden; /* Hide horizontal overflow */
    }

    #mainContent main {
        padding: 2vw;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: flex-start; /* Align content to the top */
        align-items: center; /* Center horizontally */
        background-color: #F4F4F4;
    }

    #mainContent .profile {
        width: 100%; /* Ensure the entire profile takes up the full width */
        display: flex;
        flex-direction: column; /* Arrange sections in a column */
        gap: 20px; /* Add space between each section */
    }

    #mainContent .profileHeader,
    #mainContent .skills,
    #mainContent .showcases,
    #mainContent .posts {
        width: 100%; /* Full width of the page */
        max-width: 1200px; /* Optional: Limit the max width to prevent extreme stretch on large screens */
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: flex; /* Use flexbox for layout */
        flex-direction: column; /* Stack children vertically */
    }

    /* Profile Photo Styles */
    #mainContent .profilePhoto {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        overflow: hidden;
        border: 2px solid #DDD;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        cursor: pointer;
    }

    #mainContent .profilePhoto img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
    }

    /* Profile Details */
    #mainContent .profileDetails {
        flex-grow: 1;
        margin-left: 20px;
    }

    #mainContent .profileDetails .name {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    #mainContent .profileDetails .availability {
        font-size: 16px;
        margin-bottom: 10px;
    }

    #mainContent .profileDetails .rating {
        font-size: 16px;
        color: #f39c12;
    }

    /* General Button Styles */
    /* General Button Styles for all buttons */
button {
    background-color: #27374D;
    color: white;
    padding: 5px 15px; /* Same padding as Add Post */
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px; /* Adjust font size to match Add Post */
    transition: background-color 0.3s;
}

button:hover {
    background-color: #1f2e3d;
}
.skills {
    position: relative;
}

.skills button {
    position: absolute;
    right: 1.2vw; /* Adjust the value to control distance from the right edge */
     /* Align the button to the bottom of the content */
     bottom: 1.3vw;
}
/* Specifically targeting Add Skill button */
.skills button {
    padding: 5px 15px; /* Same as Add Post */
    font-size: 14px; /* Adjust font size */
    align-self: flex-end; /* Align to the right */
}
#mainContent .skills .skillItem {
    display: inline-flex; /* Changed to inline-flex to align content properly */
    align-items: center; /* Vertically align content */
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 1vh 1vw;
    margin: 5px;
    background-color: #f9f9f9;
    position: relative; /* Enable positioning for the close button */
}
#mainContent .skills .skillItem .closeSkill {
    background-color: #fff; /* White background */
    border: 1px solid #ddd; /* Light border */
    border-radius: 50%; /* Round the button */
    color: #aaa;
    font-size: 12px; /* Smaller font size */
    padding: 2px 6px; /* Compact padding for a smaller button */
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    margin-left: 10px; /* Space it from the skill text */
}
#mainContent .skills .skillItem .closeSkill:hover {
    background-color: #f0f0f0;
    color: #000;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
/* Specifically targeting Add Showcase button */
.showcases button {
    padding: 5px 15px; /* Same as Add Post */
    font-size: 14px; /* Adjust font size */
    align-self: flex-end; /* Align to the right */
}

/* Ensuring the Add Post button remains consistent */
.posts button {
    padding: 5px 15px; /* Keep the same as the other buttons */
    font-size: 14px;
}

.posts {
    margin-bottom: 2vh; /* 2vh margin at the bottom of posts */
}
    /* Specific Button Styles */
    #mainContent .editProfile,
    #mainContent .addSkill,
    #mainContent .addPost,
    #mainContent .addShowcase {
        align-self: flex-end; /* Align buttons to the right */
    }

    /* Remove button styles */
    #mainContent .removeSkill,
    #mainContent .removeShowcase,
    #mainContent .removePost {
        background-color: #ff4d4d;
    }

    #mainContent .removeSkill:hover,
    #mainContent .removeShowcase:hover,
    #mainContent .removePost:hover {
        background-color: #cc0000;
    }

    /* Modal styles */
    .modal {
        display: none; /* Hidden by default */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5); /* Black w/ opacity */
    }

    .modalContent {
        background-color: #fff;
        margin: 15% auto;
        padding: 20px;
        border-radius: 10px;
        width: 80%;
        max-width: 500px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Modal close button styles */
.close {
    background-color: #fff; /* White background by default */
    border: 1px solid #ddd; /* Light border */
    border-radius: 50%; /* Round the button */
    color: #aaa;
    font-size: 18px; /* Slightly smaller font */
    padding: 5px 10px; /* Add some padding to make it bigger */
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Add smooth transition */
    display: inline-block;
    margin-left: 10px; /* Space it next to the content */
}

/* Hover effect for close button */
.close:hover {
    background-color: #fff; /* Keep the background white on hover */
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.3); /* Add a soft shadow */
    color: #000; /* Darker text on hover */
}

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    /* Enlarged photo overlay */
    #mainContent #photoOverlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    #mainContent .overlayContent {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    #mainContent #enlargedPhoto {
        width: 300px;
        height: 300px;
        border-radius: 50%;
        margin-bottom: 20px;
    }

    /* Button inside enlarged photo overlay */
    #mainContent .overlayContent button {
        background-color: #27374D;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    #mainContent .overlayContent button:hover {
        background-color: #1f2e3d;
    }
    #mainContent .skills .skillItem {
    display: inline-block; /* Display skills in a row */
    border: 1px solid #ddd; /* Add a border around each skill */
    border-radius: 5px; /* Optional: slightly rounded corners */
    padding: 1vh 1vw; /* Add padding inside each skill */
    margin: 5px; /* Space between each skill */
    background-color: #f9f9f9; /* Light background color */
}
    @media (max-width: 768px) {
        #mainContent .skillItem,
        #mainContent .showcaseItem,
        #mainContent .postItem {
            width: 100%; /* Make them full-width on smaller screens */
        }
    }
</style>

<main id="mainContent">
    <div class="profile">
        <%- include("partials/profile") -%>
        <%- include("partials/skills") -%>
        <%- include("partials/showcases") -%>
        <%- include("partials/posts") -%>    
    </div>
</main>

<!-- Showcase Modal -->
<div id="addShowcaseModal" class="modal">
    <div class="modalContent">
        <span class="skillClose close">&times;</span>
        <h2>Add New Showcase</h2>
        <form id="addShowcaseForm" enctype="multipart/form-data">
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" required>
            <label for="description">Description:</label>
            <textarea id="description" name="description" required></textarea>
            <label for="image">Image:</label>
            <input type="file" id="image" name="image" accept="image/*" required>
            <label for="skills">Skills:</label>
            <select id="skills" name="skills" multiple required>
                <!-- Skill options will be dynamically populated here -->
            </select>
            <button type="submit">Add Showcase</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const addShowcaseBtn = document.getElementById('addShowcaseBtn');
        const addShowcaseModal = document.getElementById('addShowcaseModal');
        const closeBtn = document.querySelector('.close');

        // Open modal when "Add Showcase" button is clicked
        addShowcaseBtn.addEventListener('click', function () {
            addShowcaseModal.style.display = 'block';
        });

        // Close modal when the close button is clicked
        closeBtn.addEventListener('click', function () {
            addShowcaseModal.style.display = 'none';
        });

        // Close modal when clicking outside the modal content
        window.addEventListener('click', function (event) {
            if (event.target == addShowcaseModal) {
                addShowcaseModal.style.display = 'none';
            }
        });
    });
</script>

<%- include("partials/footer") -%>
